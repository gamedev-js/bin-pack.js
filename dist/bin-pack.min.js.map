{"version":3,"sources":["./dist/bin-pack.dev.js"],"names":["binpack","utils","[object Object]","node","rotated","height","width","simple_pack","nodes","padding","allowRotate","progress","curX","curY","maxY","hasError","len","length","i","rotatedWidth","rotatedHeight","x","y","id","Error","_insertNode","treeNode","right","pos","bottom","nodeWidth","nodeHeight","paddedWidth","paddedHeight","tree_pack","root","result","_cloneRect","rect","_containsRect","a","b","_scoreRect","freeRects","scores","score1","Number","MAX_VALUE","score2","newRect","found","freeRect","leftoverHoriz","leftoverVert","shortSideFit","longSideFit","Math","abs","floor","min","max","_splitFreeNode","freeNode","usedNode","newNode","push","_placeRect","splice","_pruneFreeRects","j","max_rect_pack","unhandledNodes","slice","bestScore1","bestScore2","bestNodeIdx","bestRect","bestNode","_compareByWidth","ret","localeCompare","_compareByHeight","_compareByArea","_compareByID","_compareByRotateWidth","a_size","b_size","_compareByRotateHeight","_pack","algorithm","pack","index","sortBy","order","sort","reverse","w","h","error","console"],"mappings":"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","file":"./dist/bin-pack.min.js"}